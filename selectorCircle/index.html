<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title></title>

	<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.8.2r1/build/reset/reset-min.css">
	
	<style>
		h1{
			font-size:24px;
			margin:15px 0;
		}
		
		#main_container{
			padding:15px;
			background-color:#eee;
		}
		
		#circle_container{
			border:solid 1px #ddd;
			height:600px;
			width:900px;
			background-color:#fff;
		}
		
		.circle-selector {
			width:15px;
			height:15px;
			border:solid 3px #0063DC;
			background-color:rgba(68, 68, 68, .5);
			moz-border-radius:50%;
			webkit-border-radius:50%;
			border-radius:50%;
		}
	</style>
</head>
<body>
	<div id="main_container">
		<header>
			<h1>Resizable and dragable circle</h1>
		</header>
		<div id="content_container">
			<div id="circle_container">
				
			</div>
		</div>
		<footer></footer>
	</div>

	<script type="text/javascript" charset="utf-8"
	        src="http://yui.yahooapis.com/3.3.0/build/yui/yui-min.js">
	</script>
	
	<script>
		YUI().use("base","node", function(Y) {

			function SelectorCircle(config) {

				SelectorCircle.superclass.constructor.apply(this, arguments);

			}

			SelectorCircle.NAME = "SelectorCircle";

			SelectorCircle.ATTRS = {
				root_node : {
					value : null
				},
				initial_radius : {
					value : 15
				},
				initial_xy : {
					value : null
				},
				resizable : {
					value : true
				},
				dragable : {
					value : true
				},
				default_class : {
					value : 'circle-selector'
				},
				hover_class : {
					value : 'hover'
				},
				dragging_class : {
					value : 'dragging'
				},
				resizing_class : {
					value : 'resizing'
				}
			}

			Y.extend(SelectorCircle, Y.Base, {
				create : function() {
					var root_node     = this.get('root_node'),
					    default_class = this.get('default_class');
					
					root_node.append('<div class="' + default_class + '"></div>');
					
					var circle_node = root_node.one('.' + default_class);
					
					if(circle_node) {
						circle_node.setStyle('height',this.get('initial_radius')*2);
						circle_node.setStyle('width',this.get('initial_radius')*2);
						
						if(Y.Lang.isObject(this.get('initial_xy'))) {
							circle_node.setXY(this.get('initial_xy'));
						}
					}
				},
				show : function() {
					var root_node     = this.get('root_node'),
					    default_class = this.get('default_class');
					
					if(root_node) {
						var circle_node = root_node.one('.' + default_class);

						if(circle_node) {
							circle_node.setStyle('display','block');
						} else {
							this.create();
						}
					} else {
						Y.log('No root node was found in the module configuration','error','selector-circle');
					}
				}
			});

			var selector_circle = new SelectorCircle({
				root_node : Y.one('#circle_container')
			});
			
			selector_circle.show();
			
		});
	</script>
</body>
</html>